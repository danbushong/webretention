<!DOCTYPE html>
<html>

<head>
  
  <!--jquery-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Add the OuiBounce CSS -->
  <link rel="stylesheet" href="ouibounce.min.css">
  <!--flipclock css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flipclock/0.7.7/flipclock.css" integrity="sha512-UWqafCfAKZVD24WgqPnyBy7BM3hZ5UWRDZt7tE36saC7zu1wLUDNoafWVBhzUzP9wVQLhebfmJcnXVjkern/fQ==" crossorigin="anonymous" />
  
  <!-- Add OuiBounce JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ouibounce/0.0.12/ouibounce.min.js" integrity="sha512-3YT22Fw1AUW4I3ww7mROUxleX/WhHY1uh6ZbWL5bRyqDNc8UE8UQf4otTicqtpzXEeSa2Ct3aZ/8gpjVcsz9LQ==" crossorigin="anonymous"></script>

  <!--regular css-->
  <link rel="stylesheet" href="style.css">
  
  <title>Web Retention Display</title>

  

</head>

<body>
  <!-- Example page instructions -->
  <h1>This will keep people on your website.</h1>

  <!-- OuiBounce Modal -->
  <div id="ouibounce-modal">
    <div class="underlay"></div>
    <div class="modal">


      <div class="modal-body">
        <h2 class="modal-content"></h2>
        <h1>Claim your instant discount before the timer runs out!</h1>
        <div class="clock"></div>


      </div>

      <div class="modal-footer">
        <button class="claimDiscountButton">CLAIM DISCOUNT</button>
      </div>
    </div>
  </div>

  
  <!-- Load jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  
  
  <!-- Load Clock -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flipclock/0.7.7/flipclock.min.js" integrity="sha512-Vy4ftjkcjamOFPNSK7Osn8kYhF7XDcLWPiRvSmdimNscisyC8MkhDlAHSt+psegxRzd/q6wUC/VFhQZ6P2hBOw==" crossorigin="anonymous"></script>
  <script>

    // if you want to use the 'fire' or 'disable' fn,
    // you need to save OuiBounce to an object
    var _ouibounce = ouibounce(document.getElementById('ouibounce-modal'), {
      aggressive: true,
      timer: 0,
      callback: function () { console.log('ouibounce fired!'); }
    });


    $('body').on('click', function () {
      $('#ouibounce-modal').hide();
    });

    $('#ouibounce-modal .modal-footer').on('click', function () {
      $('#ouibounce-modal').hide();
    });


    $('#ouibounce-modal .modal').on('click', function (e) {
      e.stopPropagation();
    });

    $.get("http://ip-api.com/json/", function (data) {
      console.log(data.city)
      $('.modal-content').text(`WAIT! SPECIAL OFFER FOR ${data.city} RESIDENTS...`)
    });

    var clock = $('.clock').FlipClock(3473, {
      countdown: true,
      
    });

  </script>
</body>

</html>